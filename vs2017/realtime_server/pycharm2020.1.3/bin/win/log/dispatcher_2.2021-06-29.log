2021-06-29 00:10:37,965 - INFO - ServerEntity.LoadCollector - [ServerEntity.py:25]: __init__ create entity LoadCollector with id 60d9f47d32b7761804e45eae mem_id=1661336327360
2021-06-29 00:10:37,968 - INFO - server.EntityManager - [EntityManager.py:139]: addentity  entity id  60d9f47d32b7761804e45eae 
2021-06-29 00:10:37,991 - INFO - ServiceNode - [EtcdSupport.py:533]: we have create ServiceFinder
2021-06-29 00:10:38,005 - INFO - ServiceFinder - [EtcdSupport.py:352]: _init_info, now_url: http://127.0.0.1:2379/v2/keys?recursive=true
2021-06-29 00:10:38,013 - INFO - ServiceRegister - [EtcdSupport.py:155]: _do_regist: now_url: http://127.0.0.1:2379/v2/keys/services/dispatcher_service/127.0.0.1|9102
2021-06-29 00:10:38,030 - INFO - TcpServer - [TcpServer.py:200]: Server on ('127.0.0.1', 9102)
2021-06-29 00:10:38,058 - INFO - ServiceFinder - [EtcdSupport.py:323]: add service node info--> dispatcher_service: ('127.0.0.1', 9101)
2021-06-29 00:10:38,062 - INFO - ServiceFinder - [EtcdSupport.py:323]: add service node info--> dispatcher_service: ('127.0.0.1', 9100)
2021-06-29 00:10:38,066 - INFO - ServiceFinder - [EtcdSupport.py:277]: init service info from etcd success, will going to watch, at etcd index -> 316
2021-06-29 00:10:38,084 - INFO - ServiceRegister - [EtcdSupport.py:163]: regist service : dispatcher_service success, {"action":"set","node":{"key":"/services/dispatcher_service/127.0.0.1|9102","value":"","expiration":"2021-06-28T16:13:38.0494142Z","ttl":180,"modifiedIndex":317,"createdIndex":317}}

2021-06-29 00:10:38,094 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> dispatcher_service: ('127.0.0.1', 9102) - [317]
2021-06-29 00:10:42,598 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> lobby_server: ('127.0.0.1', 10001) - [318]
2021-06-29 00:10:47,076 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> lobby_server: ('127.0.0.1', 10002) - [319]
2021-06-29 00:10:50,617 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> lobby_server: ('127.0.0.1', 10003) - [320]
2021-06-29 00:10:55,243 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> lobby_gate: ('127.0.0.1', 9201) - [321]
2021-06-29 00:10:58,301 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> lobby_gate: ('127.0.0.1', 9202) - [322]
2021-06-29 00:11:01,391 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> lobby_gate: ('127.0.0.1', 9203) - [323]
2021-06-29 00:12:04,410 - INFO - ServiceFinder - [EtcdSupport.py:475]: etcd watch timeout, rest watch index 323 -> 323
2021-06-29 00:12:24,632 - INFO - TcpServer - [TcpServer.py:186]: ('127.0.0.1', 6713) is connected !!!!
2021-06-29 00:12:24,647 - DEBUG - ServerEntity.LoadCollector - [LoadCollector.py:63]: pick_lowest_load_service_addr server_name: lobby_2, addr: ('lobby_2', '127.0.0.1', 10003)
2021-06-29 00:12:26,092 - INFO - ServiceRegister - [EtcdSupport.py:196]: outside, time.time()=1624896746.0901947, refresh service dispatcher_service, now_url: http://127.0.0.1:2379/v2/keys/services/dispatcher_service/127.0.0.1|9102
2021-06-29 00:12:26,109 - INFO - ServiceRegister - [EtcdSupport.py:214]: time.time()=1624896746.1074166, refresh service success: dispatcher_service: {"action":"set","node":{"key":"/services/dispatcher_service/127.0.0.1|9102","value":"","expiration":"2021-06-28T16:15:26.1048501Z","ttl":180,"modifiedIndex":326,"createdIndex":326},"prevNode":{"key":"/services/dispatcher_service/127.0.0.1|9102","value":"","expiration":"2021-06-28T16:13:38.0494142Z","ttl":72,"modifiedIndex":317,"createdIndex":317}}
, now_url: http://127.0.0.1:2379/v2/keys/services/dispatcher_service/127.0.0.1|9102
2021-06-29 00:12:31,300 - INFO - TcpServer - [TcpServer.py:186]: ('127.0.0.1', 6725) is connected !!!!
2021-06-29 00:12:31,312 - DEBUG - ServerEntity.LoadCollector - [LoadCollector.py:63]: pick_lowest_load_service_addr server_name: lobby_1, addr: ('lobby_1', '127.0.0.1', 10002)
2021-06-29 00:13:10,443 - INFO - ServiceFinder - [EtcdSupport.py:475]: etcd watch timeout, rest watch index 323 -> 323
2021-06-29 00:14:12,476 - INFO - ServiceFinder - [EtcdSupport.py:475]: etcd watch timeout, rest watch index 323 -> 332
2021-06-29 00:14:14,138 - INFO - ServiceRegister - [EtcdSupport.py:196]: outside, time.time()=1624896854.1252801, refresh service dispatcher_service, now_url: http://127.0.0.1:2379/v2/keys/services/dispatcher_service/127.0.0.1|9102
2021-06-29 00:14:14,197 - INFO - ServiceRegister - [EtcdSupport.py:214]: time.time()=1624896854.189866, refresh service success: dispatcher_service: {"action":"set","node":{"key":"/services/dispatcher_service/127.0.0.1|9102","value":"","expiration":"2021-06-28T16:17:14.1838868Z","ttl":180,"modifiedIndex":336,"createdIndex":336},"prevNode":{"key":"/services/dispatcher_service/127.0.0.1|9102","value":"","expiration":"2021-06-28T16:15:26.1048501Z","ttl":72,"modifiedIndex":326,"createdIndex":326}}
, now_url: http://127.0.0.1:2379/v2/keys/services/dispatcher_service/127.0.0.1|9102
2021-06-29 00:15:14,498 - INFO - ServiceFinder - [EtcdSupport.py:475]: etcd watch timeout, rest watch index 332 -> 335
2021-06-29 00:16:03,215 - INFO - ServiceRegister - [EtcdSupport.py:196]: outside, time.time()=1624896963.2080905, refresh service dispatcher_service, now_url: http://127.0.0.1:2379/v2/keys/services/dispatcher_service/127.0.0.1|9102
2021-06-29 00:16:03,248 - INFO - ServiceRegister - [EtcdSupport.py:214]: time.time()=1624896963.2434042, refresh service success: dispatcher_service: {"action":"set","node":{"key":"/services/dispatcher_service/127.0.0.1|9102","value":"","expiration":"2021-06-28T16:19:03.2391965Z","ttl":180,"modifiedIndex":345,"createdIndex":345},"prevNode":{"key":"/services/dispatcher_service/127.0.0.1|9102","value":"","expiration":"2021-06-28T16:17:14.1838868Z","ttl":71,"modifiedIndex":336,"createdIndex":336}}
, now_url: http://127.0.0.1:2379/v2/keys/services/dispatcher_service/127.0.0.1|9102
2021-06-29 00:16:24,516 - INFO - ServiceFinder - [EtcdSupport.py:475]: etcd watch timeout, rest watch index 335 -> 341
2021-06-29 00:17:28,557 - INFO - ServiceFinder - [EtcdSupport.py:475]: etcd watch timeout, rest watch index 341 -> 350
2021-06-29 00:17:50,257 - INFO - ServiceRegister - [EtcdSupport.py:196]: outside, time.time()=1624897070.2528553, refresh service dispatcher_service, now_url: http://127.0.0.1:2379/v2/keys/services/dispatcher_service/127.0.0.1|9102
2021-06-29 00:17:50,306 - INFO - ServiceRegister - [EtcdSupport.py:214]: time.time()=1624897070.3018217, refresh service success: dispatcher_service: {"action":"set","node":{"key":"/services/dispatcher_service/127.0.0.1|9102","value":"","expiration":"2021-06-28T16:20:50.2924374Z","ttl":180,"modifiedIndex":354,"createdIndex":354},"prevNode":{"key":"/services/dispatcher_service/127.0.0.1|9102","value":"","expiration":"2021-06-28T16:19:03.2391965Z","ttl":73,"modifiedIndex":345,"createdIndex":345}}
, now_url: http://127.0.0.1:2379/v2/keys/services/dispatcher_service/127.0.0.1|9102
2021-06-29 00:18:33,571 - INFO - ServiceFinder - [EtcdSupport.py:475]: etcd watch timeout, rest watch index 350 -> 351
2021-06-29 00:18:53,742 - INFO - ServerEntity.LoadCollector - [ServerEntity.py:25]: __init__ create entity LoadCollector with id 60d9f66d591933122625b619 mem_id=2642226549952
2021-06-29 00:18:53,745 - INFO - server.EntityManager - [EntityManager.py:139]: addentity  entity id  60d9f66d591933122625b619 
2021-06-29 00:18:53,767 - INFO - ServiceNode - [EtcdSupport.py:533]: we have create ServiceFinder
2021-06-29 00:18:53,778 - INFO - ServiceFinder - [EtcdSupport.py:352]: _init_info, now_url: http://127.0.0.1:2379/v2/keys?recursive=true
2021-06-29 00:18:53,786 - INFO - ServiceRegister - [EtcdSupport.py:155]: _do_regist: now_url: http://127.0.0.1:2379/v2/keys/services/dispatcher_service/127.0.0.1|9102
2021-06-29 00:18:53,805 - INFO - TcpServer - [TcpServer.py:200]: Server on ('127.0.0.1', 9102)
2021-06-29 00:18:53,832 - INFO - ServiceFinder - [EtcdSupport.py:323]: add service node info--> lobby_server: ('127.0.0.1', 10001)
2021-06-29 00:18:53,836 - INFO - ServiceFinder - [EtcdSupport.py:323]: add service node info--> lobby_server: ('127.0.0.1', 10002)
2021-06-29 00:18:53,839 - INFO - ServiceFinder - [EtcdSupport.py:323]: add service node info--> lobby_server: ('127.0.0.1', 10003)
2021-06-29 00:18:53,843 - INFO - ServiceFinder - [EtcdSupport.py:323]: add service node info--> dispatcher_service: ('127.0.0.1', 9100)
2021-06-29 00:18:53,845 - INFO - ServiceFinder - [EtcdSupport.py:323]: add service node info--> dispatcher_service: ('127.0.0.1', 9101)
2021-06-29 00:18:53,848 - INFO - ServiceFinder - [EtcdSupport.py:323]: add service node info--> dispatcher_service: ('127.0.0.1', 9102)
2021-06-29 00:18:53,850 - INFO - ServiceFinder - [EtcdSupport.py:323]: add service node info--> lobby_gate: ('127.0.0.1', 9201)
2021-06-29 00:18:53,852 - INFO - ServiceFinder - [EtcdSupport.py:323]: add service node info--> lobby_gate: ('127.0.0.1', 9202)
2021-06-29 00:18:53,855 - INFO - ServiceFinder - [EtcdSupport.py:323]: add service node info--> lobby_gate: ('127.0.0.1', 9203)
2021-06-29 00:18:53,856 - INFO - ServiceFinder - [EtcdSupport.py:277]: init service info from etcd success, will going to watch, at etcd index -> 361
2021-06-29 00:18:53,865 - INFO - ServiceRegister - [EtcdSupport.py:163]: regist service : dispatcher_service success, {"action":"set","node":{"key":"/services/dispatcher_service/127.0.0.1|9102","value":"","expiration":"2021-06-28T16:21:53.8266567Z","ttl":180,"modifiedIndex":362,"createdIndex":362},"prevNode":{"key":"/services/dispatcher_service/127.0.0.1|9102","value":"","expiration":"2021-06-28T16:20:50.2924374Z","ttl":117,"modifiedIndex":354,"createdIndex":354}}

2021-06-29 00:18:53,874 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> dispatcher_service: ('127.0.0.1', 9102) - [362]
2021-06-29 00:18:53,877 - INFO - ServiceFinder - [EtcdSupport.py:299]: duplicate service info  -> dispatcher_service:('127.0.0.1', 9102)
2021-06-29 00:18:57,416 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> lobby_server: ('127.0.0.1', 10001) - [363]
2021-06-29 00:18:57,422 - INFO - ServiceFinder - [EtcdSupport.py:299]: duplicate service info  -> lobby_server:('127.0.0.1', 10001)
2021-06-29 00:19:05,749 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> lobby_gate: ('127.0.0.1', 9201) - [364]
2021-06-29 00:19:05,755 - INFO - ServiceFinder - [EtcdSupport.py:299]: duplicate service info  -> lobby_gate:('127.0.0.1', 9201)
2021-06-29 00:19:11,545 - INFO - TcpServer - [TcpServer.py:186]: ('127.0.0.1', 7120) is connected !!!!
2021-06-29 00:19:11,558 - DEBUG - ServerEntity.LoadCollector - [LoadCollector.py:63]: pick_lowest_load_service_addr server_name: gate_1, addr: ('gate_1', '127.0.0.1', 9202)
2021-06-29 00:19:13,684 - WARNING - TcpConn - ["C:\Users\b\Documents\github\realtime-server\pycharm2020.1.3\script\TcpConn.py:163"]: peer addr: ('127.0.0.1', 7120), close_reason='connection is closed by error: [WinError 64] The specified network name is no longer available'
2021-06-29 00:19:31,489 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> lobby_server: ('127.0.0.1', 10002) - [365]
2021-06-29 00:19:31,495 - INFO - ServiceFinder - [EtcdSupport.py:299]: duplicate service info  -> lobby_server:('127.0.0.1', 10002)
2021-06-29 00:19:34,332 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> lobby_server: ('127.0.0.1', 10003) - [366]
2021-06-29 00:19:34,339 - INFO - ServiceFinder - [EtcdSupport.py:299]: duplicate service info  -> lobby_server:('127.0.0.1', 10003)
2021-06-29 00:19:37,427 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> lobby_gate: ('127.0.0.1', 9202) - [367]
2021-06-29 00:19:37,433 - INFO - ServiceFinder - [EtcdSupport.py:299]: duplicate service info  -> lobby_gate:('127.0.0.1', 9202)
2021-06-29 00:19:42,067 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> lobby_gate: ('127.0.0.1', 9203) - [368]
2021-06-29 00:19:42,074 - INFO - ServiceFinder - [EtcdSupport.py:299]: duplicate service info  -> lobby_gate:('127.0.0.1', 9203)
2021-06-29 00:19:45,840 - INFO - TcpServer - [TcpServer.py:186]: ('127.0.0.1', 7158) is connected !!!!
2021-06-29 00:19:45,861 - DEBUG - ServerEntity.LoadCollector - [LoadCollector.py:63]: pick_lowest_load_service_addr server_name: lobby_0, addr: ('lobby_0', '127.0.0.1', 10001)
2021-06-29 00:19:48,019 - INFO - TcpServer - [TcpServer.py:186]: ('127.0.0.1', 7161) is connected !!!!
2021-06-29 00:19:53,724 - INFO - TcpServer - [TcpServer.py:186]: ('127.0.0.1', 7166) is connected !!!!
2021-06-29 00:19:53,738 - DEBUG - ServerEntity.LoadCollector - [LoadCollector.py:63]: pick_lowest_load_service_addr server_name: gate_1, addr: ('gate_1', '127.0.0.1', 9202)
2021-06-29 00:20:07,065 - DEBUG - ServerEntity.LoadCollector - [LoadCollector.py:63]: pick_lowest_load_service_addr server_name: lobby_1, addr: ('lobby_1', '127.0.0.1', 10002)
2021-06-29 00:20:38,889 - INFO - ServiceRegister - [EtcdSupport.py:196]: outside, time.time()=1624897238.8840668, refresh service dispatcher_service, now_url: http://127.0.0.1:2379/v2/keys/services/dispatcher_service/127.0.0.1|9102
2021-06-29 00:20:38,950 - INFO - ServiceRegister - [EtcdSupport.py:214]: time.time()=1624897238.9456007, refresh service success: dispatcher_service: {"action":"set","node":{"key":"/services/dispatcher_service/127.0.0.1|9102","value":"","expiration":"2021-06-28T16:23:38.9181973Z","ttl":180,"modifiedIndex":370,"createdIndex":370},"prevNode":{"key":"/services/dispatcher_service/127.0.0.1|9102","value":"","expiration":"2021-06-28T16:21:53.8266567Z","ttl":75,"modifiedIndex":362,"createdIndex":362}}
, now_url: http://127.0.0.1:2379/v2/keys/services/dispatcher_service/127.0.0.1|9102
2021-06-29 00:20:46,097 - INFO - ServiceFinder - [EtcdSupport.py:475]: etcd watch timeout, rest watch index 368 -> 368
