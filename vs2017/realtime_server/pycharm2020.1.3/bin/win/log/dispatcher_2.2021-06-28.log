2021-06-28 22:25:06,800 - INFO - ServerEntity.LoadCollector - [ServerEntity.py:25]: __init__ create entity LoadCollector with id 60d9dbc2a3d03bed458cbb2a mem_id=2376983352464
2021-06-28 22:25:06,801 - INFO - server.EntityManager - [EntityManager.py:139]: addentity  entity id  60d9dbc2a3d03bed458cbb2a 
2021-06-28 22:25:06,812 - INFO - ServiceNode - [EtcdSupport.py:533]: we have create ServiceFinder
2021-06-28 22:25:06,817 - INFO - ServiceFinder - [EtcdSupport.py:352]: _init_info, now_url: http://127.0.0.1:2379/v2/keys?recursive=true
2021-06-28 22:25:06,821 - INFO - ServiceRegister - [EtcdSupport.py:155]: _do_regist: now_url: http://127.0.0.1:2379/v2/keys/services/dispatcher_service/127.0.0.1|9102
2021-06-28 22:25:06,829 - INFO - TcpServer - [TcpServer.py:200]: Server on ('127.0.0.1', 9102)
2021-06-28 22:25:06,842 - INFO - ServiceFinder - [EtcdSupport.py:323]: add service node info--> dispatcher_service: ('127.0.0.1', 9100)
2021-06-28 22:25:06,844 - INFO - ServiceFinder - [EtcdSupport.py:323]: add service node info--> dispatcher_service: ('127.0.0.1', 9101)
2021-06-28 22:25:06,846 - INFO - ServiceFinder - [EtcdSupport.py:277]: init service info from etcd success, will going to watch, at etcd index -> 255
2021-06-28 22:25:06,853 - INFO - ServiceRegister - [EtcdSupport.py:163]: regist service : dispatcher_service success, {"action":"set","node":{"key":"/services/dispatcher_service/127.0.0.1|9102","value":"","expiration":"2021-06-28T14:28:06.8392944Z","ttl":180,"modifiedIndex":256,"createdIndex":256}}

2021-06-28 22:25:06,859 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> dispatcher_service: ('127.0.0.1', 9102) - [256]
2021-06-28 22:25:09,036 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> lobby_gate: ('127.0.0.1', 9201) - [257]
2021-06-28 22:25:11,174 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> lobby_gate: ('127.0.0.1', 9202) - [258]
2021-06-28 22:25:14,875 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> lobby_server: ('127.0.0.1', 10001) - [259]
2021-06-28 22:25:17,023 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> lobby_server: ('127.0.0.1', 10002) - [260]
2021-06-28 22:25:17,172 - INFO - TcpServer - [TcpServer.py:186]: ('127.0.0.1', 6490) is connected !!!!
2021-06-28 22:25:19,334 - INFO - TcpServer - [TcpServer.py:186]: ('127.0.0.1', 6494) is connected !!!!
2021-06-28 22:25:19,341 - DEBUG - ServerEntity.LoadCollector - [LoadCollector.py:63]: pick_lowest_load_service_addr server_name: gate_1, addr: ('gate_1', '127.0.0.1', 9202)
2021-06-28 22:25:24,103 - INFO - TcpServer - [TcpServer.py:186]: ('127.0.0.1', 6503) is connected !!!!
2021-06-28 22:25:24,110 - DEBUG - ServerEntity.LoadCollector - [LoadCollector.py:63]: pick_lowest_load_service_addr server_name: gate_0, addr: ('gate_0', '127.0.0.1', 9201)
2021-06-28 22:25:24,163 - INFO - TcpServer - [TcpServer.py:186]: ('127.0.0.1', 6505) is connected !!!!
2021-06-28 22:25:24,169 - DEBUG - ServerEntity.LoadCollector - [LoadCollector.py:63]: pick_lowest_load_service_addr server_name: lobby_1, addr: ('lobby_1', '127.0.0.1', 10002)
2021-06-28 22:26:27,033 - INFO - ServiceFinder - [EtcdSupport.py:475]: etcd watch timeout, rest watch index 260 -> 260
2021-06-28 22:26:49,852 - INFO - ServiceRegister - [EtcdSupport.py:196]: outside, time.time()=1624890409.8508627, refresh service dispatcher_service, now_url: http://127.0.0.1:2379/v2/keys/services/dispatcher_service/127.0.0.1|9102
2021-06-28 22:26:49,860 - INFO - ServiceRegister - [EtcdSupport.py:214]: time.time()=1624890409.8599067, refresh service success: dispatcher_service: {"action":"set","node":{"key":"/services/dispatcher_service/127.0.0.1|9102","value":"","expiration":"2021-06-28T14:29:49.8589102Z","ttl":180,"modifiedIndex":262,"createdIndex":262},"prevNode":{"key":"/services/dispatcher_service/127.0.0.1|9102","value":"","expiration":"2021-06-28T14:28:06.8392944Z","ttl":77,"modifiedIndex":256,"createdIndex":256}}
, now_url: http://127.0.0.1:2379/v2/keys/services/dispatcher_service/127.0.0.1|9102
2021-06-28 22:27:07,330 - WARNING - TcpConn - ["C:\Users\b\Documents\github\realtime-server\pycharm2020.1.3\script\TcpConn.py:162"]: peer addr: ('127.0.0.1', 6505), close_reason='connection is closed by error: [WinError 64] The specified network name is no longer available'
2021-06-28 22:27:08,242 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> lobby_gate: ('127.0.0.1', 9201) - [268]
2021-06-28 22:27:08,247 - INFO - ServiceFinder - [EtcdSupport.py:299]: duplicate service info  -> lobby_gate:('127.0.0.1', 9201)
2021-06-28 22:27:09,435 - WARNING - TcpConn - ["C:\Users\b\Documents\github\realtime-server\pycharm2020.1.3\script\TcpConn.py:162"]: peer addr: ('127.0.0.1', 6490), close_reason='connection is closed by error: [WinError 64] The specified network name is no longer available'
2021-06-28 22:27:10,304 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> lobby_gate: ('127.0.0.1', 9202) - [269]
2021-06-28 22:27:10,307 - INFO - ServiceFinder - [EtcdSupport.py:299]: duplicate service info  -> lobby_gate:('127.0.0.1', 9202)
2021-06-28 22:27:10,646 - INFO - TcpServer - [TcpServer.py:186]: ('127.0.0.1', 6597) is connected !!!!
2021-06-28 22:27:10,652 - DEBUG - ServerEntity.LoadCollector - [LoadCollector.py:63]: pick_lowest_load_service_addr server_name: lobby_1, addr: ('lobby_1', '127.0.0.1', 10002)
2021-06-28 22:27:14,225 - INFO - TcpServer - [TcpServer.py:186]: ('127.0.0.1', 6601) is connected !!!!
2021-06-28 22:28:15,327 - INFO - ServiceFinder - [EtcdSupport.py:475]: etcd watch timeout, rest watch index 269 -> 269
2021-06-28 22:28:29,875 - INFO - ServiceRegister - [EtcdSupport.py:196]: outside, time.time()=1624890509.8742218, refresh service dispatcher_service, now_url: http://127.0.0.1:2379/v2/keys/services/dispatcher_service/127.0.0.1|9102
2021-06-28 22:28:29,883 - INFO - ServiceRegister - [EtcdSupport.py:214]: time.time()=1624890509.8812408, refresh service success: dispatcher_service: {"action":"set","node":{"key":"/services/dispatcher_service/127.0.0.1|9102","value":"","expiration":"2021-06-28T14:31:29.8802444Z","ttl":180,"modifiedIndex":270,"createdIndex":270},"prevNode":{"key":"/services/dispatcher_service/127.0.0.1|9102","value":"","expiration":"2021-06-28T14:29:49.8589102Z","ttl":80,"modifiedIndex":262,"createdIndex":262}}
, now_url: http://127.0.0.1:2379/v2/keys/services/dispatcher_service/127.0.0.1|9102
2021-06-28 22:29:51,139 - INFO - ServerEntity.LoadCollector - [ServerEntity.py:25]: __init__ create entity LoadCollector with id 60d9dcdfe5af21aaa5c765a7 mem_id=1879183168752
2021-06-28 22:29:51,140 - INFO - server.EntityManager - [EntityManager.py:139]: addentity  entity id  60d9dcdfe5af21aaa5c765a7 
2021-06-28 22:29:51,151 - INFO - ServiceNode - [EtcdSupport.py:533]: we have create ServiceFinder
2021-06-28 22:29:51,156 - INFO - ServiceFinder - [EtcdSupport.py:352]: _init_info, now_url: http://127.0.0.1:2379/v2/keys?recursive=true
2021-06-28 22:29:51,159 - INFO - ServiceRegister - [EtcdSupport.py:155]: _do_regist: now_url: http://127.0.0.1:2379/v2/keys/services/dispatcher_service/127.0.0.1|9102
2021-06-28 22:29:51,167 - INFO - TcpServer - [TcpServer.py:200]: Server on ('127.0.0.1', 9102)
2021-06-28 22:29:51,181 - INFO - ServiceFinder - [EtcdSupport.py:323]: add service node info--> lobby_gate: ('127.0.0.1', 9201)
2021-06-28 22:29:51,184 - INFO - ServiceFinder - [EtcdSupport.py:323]: add service node info--> lobby_gate: ('127.0.0.1', 9202)
2021-06-28 22:29:51,186 - INFO - ServiceFinder - [EtcdSupport.py:323]: add service node info--> lobby_server: ('127.0.0.1', 10001)
2021-06-28 22:29:51,189 - INFO - ServiceFinder - [EtcdSupport.py:323]: add service node info--> lobby_server: ('127.0.0.1', 10002)
2021-06-28 22:29:51,191 - INFO - ServiceFinder - [EtcdSupport.py:323]: add service node info--> dispatcher_service: ('127.0.0.1', 9101)
2021-06-28 22:29:51,193 - INFO - ServiceFinder - [EtcdSupport.py:323]: add service node info--> dispatcher_service: ('127.0.0.1', 9102)
2021-06-28 22:29:51,195 - INFO - ServiceFinder - [EtcdSupport.py:323]: add service node info--> dispatcher_service: ('127.0.0.1', 9100)
2021-06-28 22:29:51,196 - INFO - ServiceFinder - [EtcdSupport.py:277]: init service info from etcd success, will going to watch, at etcd index -> 281
2021-06-28 22:29:51,199 - INFO - TcpServer - [TcpServer.py:186]: ('127.0.0.1', 7872) is connected !!!!
2021-06-28 22:29:51,206 - INFO - ServiceRegister - [EtcdSupport.py:163]: regist service : dispatcher_service success, {"action":"set","node":{"key":"/services/dispatcher_service/127.0.0.1|9102","value":"","expiration":"2021-06-28T14:32:51.1775003Z","ttl":180,"modifiedIndex":282,"createdIndex":282},"prevNode":{"key":"/services/dispatcher_service/127.0.0.1|9102","value":"","expiration":"2021-06-28T14:31:29.8802444Z","ttl":99,"modifiedIndex":270,"createdIndex":270}}

2021-06-28 22:29:51,214 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> dispatcher_service: ('127.0.0.1', 9102) - [282]
2021-06-28 22:29:51,216 - INFO - ServiceFinder - [EtcdSupport.py:299]: duplicate service info  -> dispatcher_service:('127.0.0.1', 9102)
2021-06-28 22:29:51,333 - INFO - TcpServer - [TcpServer.py:186]: ('127.0.0.1', 7882) is connected !!!!
2021-06-28 22:29:53,183 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> dispatcher_service: ('127.0.0.1', 9101) - [283]
2021-06-28 22:29:53,186 - INFO - ServiceFinder - [EtcdSupport.py:299]: duplicate service info  -> dispatcher_service:('127.0.0.1', 9101)
2021-06-28 22:30:23,553 - DEBUG - ServerEntity.LoadCollector - [LoadCollector.py:63]: pick_lowest_load_service_addr server_name: lobby_0, addr: ('lobby_0', '127.0.0.1', 10001)
2021-06-28 22:30:54,199 - INFO - ServiceFinder - [EtcdSupport.py:475]: etcd watch timeout, rest watch index 283 -> 283
2021-06-28 22:31:33,222 - INFO - ServiceRegister - [EtcdSupport.py:196]: outside, time.time()=1624890693.2206168, refresh service dispatcher_service, now_url: http://127.0.0.1:2379/v2/keys/services/dispatcher_service/127.0.0.1|9102
2021-06-28 22:31:33,238 - INFO - ServiceRegister - [EtcdSupport.py:214]: time.time()=1624890693.2359905, refresh service success: dispatcher_service: {"action":"set","node":{"key":"/services/dispatcher_service/127.0.0.1|9102","value":"","expiration":"2021-06-28T14:34:33.2328063Z","ttl":180,"modifiedIndex":288,"createdIndex":288},"prevNode":{"key":"/services/dispatcher_service/127.0.0.1|9102","value":"","expiration":"2021-06-28T14:32:51.1775003Z","ttl":78,"modifiedIndex":282,"createdIndex":282}}
, now_url: http://127.0.0.1:2379/v2/keys/services/dispatcher_service/127.0.0.1|9102
2021-06-28 22:31:44,408 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> lobby_server: ('127.0.0.1', 10003) - [291]
2021-06-28 22:31:47,567 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> lobby_gate: ('127.0.0.1', 9203) - [292]
2021-06-28 22:32:57,590 - INFO - ServiceFinder - [EtcdSupport.py:475]: etcd watch timeout, rest watch index 292 -> 292
2021-06-28 22:33:16,253 - INFO - ServiceRegister - [EtcdSupport.py:196]: outside, time.time()=1624890796.2468615, refresh service dispatcher_service, now_url: http://127.0.0.1:2379/v2/keys/services/dispatcher_service/127.0.0.1|9102
2021-06-28 22:33:16,294 - INFO - ServiceRegister - [EtcdSupport.py:214]: time.time()=1624890796.2898977, refresh service success: dispatcher_service: {"action":"set","node":{"key":"/services/dispatcher_service/127.0.0.1|9102","value":"","expiration":"2021-06-28T14:36:16.2812722Z","ttl":180,"modifiedIndex":295,"createdIndex":295},"prevNode":{"key":"/services/dispatcher_service/127.0.0.1|9102","value":"","expiration":"2021-06-28T14:34:33.2328063Z","ttl":77,"modifiedIndex":288,"createdIndex":288}}
, now_url: http://127.0.0.1:2379/v2/keys/services/dispatcher_service/127.0.0.1|9102
2021-06-28 22:34:03,629 - INFO - ServiceFinder - [EtcdSupport.py:475]: etcd watch timeout, rest watch index 292 -> 292
2021-06-28 22:34:29,490 - INFO - ServiceFinder - [EtcdSupport.py:433]: recv watch expire, info--> lobby_server: ('127.0.0.1', 10001) - [301]
2021-06-28 22:35:02,319 - INFO - ServiceRegister - [EtcdSupport.py:196]: outside, time.time()=1624890902.3163505, refresh service dispatcher_service, now_url: http://127.0.0.1:2379/v2/keys/services/dispatcher_service/127.0.0.1|9102
2021-06-28 22:35:02,345 - INFO - ServiceRegister - [EtcdSupport.py:214]: time.time()=1624890902.3401442, refresh service success: dispatcher_service: {"action":"set","node":{"key":"/services/dispatcher_service/127.0.0.1|9102","value":"","expiration":"2021-06-28T14:38:02.336172Z","ttl":180,"modifiedIndex":305,"createdIndex":305},"prevNode":{"key":"/services/dispatcher_service/127.0.0.1|9102","value":"","expiration":"2021-06-28T14:36:16.2812722Z","ttl":74,"modifiedIndex":295,"createdIndex":295}}
, now_url: http://127.0.0.1:2379/v2/keys/services/dispatcher_service/127.0.0.1|9102
2021-06-28 22:35:05,550 - WARNING - TcpConn - ["C:\Users\b\Documents\github\realtime-server\pycharm2020.1.3\script\TcpConn.py:162"]: peer addr: ('127.0.0.1', 7882), close_reason='connection is closed by error: [WinError 64] The specified network name is no longer available'
