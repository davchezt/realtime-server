2021-06-29 00:10:35,048 - INFO - ServerEntity.LoadCollector - [ServerEntity.py:25]: __init__ create entity LoadCollector with id 60d9f47b08ac1536d7f85cf6 mem_id=2571234948192
2021-06-29 00:10:35,051 - INFO - server.EntityManager - [EntityManager.py:139]: addentity  entity id  60d9f47b08ac1536d7f85cf6 
2021-06-29 00:10:35,076 - INFO - ServiceNode - [EtcdSupport.py:533]: we have create ServiceFinder
2021-06-29 00:10:35,090 - INFO - ServiceFinder - [EtcdSupport.py:352]: _init_info, now_url: http://127.0.0.1:2379/v2/keys?recursive=true
2021-06-29 00:10:35,100 - INFO - ServiceRegister - [EtcdSupport.py:155]: _do_regist: now_url: http://127.0.0.1:2379/v2/keys/services/dispatcher_service/127.0.0.1|9101
2021-06-29 00:10:35,122 - INFO - TcpServer - [TcpServer.py:200]: Server on ('127.0.0.1', 9101)
2021-06-29 00:10:35,147 - INFO - ServiceFinder - [EtcdSupport.py:323]: add service node info--> dispatcher_service: ('127.0.0.1', 9100)
2021-06-29 00:10:35,150 - INFO - ServiceFinder - [EtcdSupport.py:277]: init service info from etcd success, will going to watch, at etcd index -> 315
2021-06-29 00:10:35,165 - INFO - ServiceRegister - [EtcdSupport.py:163]: regist service : dispatcher_service success, {"action":"set","node":{"key":"/services/dispatcher_service/127.0.0.1|9101","value":"","expiration":"2021-06-28T16:13:35.1407933Z","ttl":180,"modifiedIndex":316,"createdIndex":316}}

2021-06-29 00:10:35,174 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> dispatcher_service: ('127.0.0.1', 9101) - [316]
2021-06-29 00:10:38,056 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> dispatcher_service: ('127.0.0.1', 9102) - [317]
2021-06-29 00:10:42,598 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> lobby_server: ('127.0.0.1', 10001) - [318]
2021-06-29 00:10:47,076 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> lobby_server: ('127.0.0.1', 10002) - [319]
2021-06-29 00:10:50,617 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> lobby_server: ('127.0.0.1', 10003) - [320]
2021-06-29 00:10:55,243 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> lobby_gate: ('127.0.0.1', 9201) - [321]
2021-06-29 00:10:58,303 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> lobby_gate: ('127.0.0.1', 9202) - [322]
2021-06-29 00:11:01,186 - INFO - TcpServer - [TcpServer.py:186]: ('127.0.0.1', 6641) is connected !!!!
2021-06-29 00:11:01,402 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> lobby_gate: ('127.0.0.1', 9203) - [323]
2021-06-29 00:11:04,251 - INFO - TcpServer - [TcpServer.py:186]: ('127.0.0.1', 6645) is connected !!!!
2021-06-29 00:12:11,429 - INFO - ServiceFinder - [EtcdSupport.py:475]: etcd watch timeout, rest watch index 323 -> 323
2021-06-29 00:12:18,185 - INFO - ServiceRegister - [EtcdSupport.py:196]: outside, time.time()=1624896738.1821642, refresh service dispatcher_service, now_url: http://127.0.0.1:2379/v2/keys/services/dispatcher_service/127.0.0.1|9101
2021-06-29 00:12:18,253 - INFO - ServiceRegister - [EtcdSupport.py:214]: time.time()=1624896738.2507353, refresh service success: dispatcher_service: {"action":"set","node":{"key":"/services/dispatcher_service/127.0.0.1|9101","value":"","expiration":"2021-06-28T16:15:18.2480102Z","ttl":180,"modifiedIndex":325,"createdIndex":325},"prevNode":{"key":"/services/dispatcher_service/127.0.0.1|9101","value":"","expiration":"2021-06-28T16:13:35.1407933Z","ttl":77,"modifiedIndex":316,"createdIndex":316}}
, now_url: http://127.0.0.1:2379/v2/keys/services/dispatcher_service/127.0.0.1|9101
2021-06-29 00:12:31,154 - INFO - TcpServer - [TcpServer.py:186]: ('127.0.0.1', 6723) is connected !!!!
2021-06-29 00:12:31,174 - DEBUG - ServerEntity.LoadCollector - [LoadCollector.py:63]: pick_lowest_load_service_addr server_name: gate_1, addr: ('gate_1', '127.0.0.1', 9202)
2021-06-29 00:12:37,486 - INFO - TcpServer - [TcpServer.py:186]: ('127.0.0.1', 6736) is connected !!!!
2021-06-29 00:12:37,505 - DEBUG - ServerEntity.LoadCollector - [LoadCollector.py:63]: pick_lowest_load_service_addr server_name: gate_0, addr: ('gate_0', '127.0.0.1', 9201)
2021-06-29 00:12:37,634 - DEBUG - ServerEntity.LoadCollector - [LoadCollector.py:63]: pick_lowest_load_service_addr server_name: lobby_0, addr: ('lobby_0', '127.0.0.1', 10001)
2021-06-29 00:12:42,452 - INFO - TcpServer - [TcpServer.py:186]: ('127.0.0.1', 6746) is connected !!!!
2021-06-29 00:12:42,486 - DEBUG - ServerEntity.LoadCollector - [LoadCollector.py:63]: pick_lowest_load_service_addr server_name: gate_0, addr: ('gate_0', '127.0.0.1', 9201)
2021-06-29 00:12:42,706 - DEBUG - ServerEntity.LoadCollector - [LoadCollector.py:63]: pick_lowest_load_service_addr server_name: lobby_0, addr: ('lobby_0', '127.0.0.1', 10001)
2021-06-29 00:13:11,468 - INFO - ServiceFinder - [EtcdSupport.py:475]: etcd watch timeout, rest watch index 323 -> 323
2021-06-29 00:14:00,279 - INFO - ServiceRegister - [EtcdSupport.py:196]: outside, time.time()=1624896840.2709131, refresh service dispatcher_service, now_url: http://127.0.0.1:2379/v2/keys/services/dispatcher_service/127.0.0.1|9101
2021-06-29 00:14:00,325 - INFO - ServiceRegister - [EtcdSupport.py:214]: time.time()=1624896840.3215795, refresh service success: dispatcher_service: {"action":"set","node":{"key":"/services/dispatcher_service/127.0.0.1|9101","value":"","expiration":"2021-06-28T16:17:00.3117413Z","ttl":180,"modifiedIndex":333,"createdIndex":333},"prevNode":{"key":"/services/dispatcher_service/127.0.0.1|9101","value":"","expiration":"2021-06-28T16:15:18.2480102Z","ttl":78,"modifiedIndex":325,"createdIndex":325}}
, now_url: http://127.0.0.1:2379/v2/keys/services/dispatcher_service/127.0.0.1|9101
2021-06-29 00:14:13,502 - INFO - ServiceFinder - [EtcdSupport.py:475]: etcd watch timeout, rest watch index 323 -> 332
2021-06-29 00:15:17,540 - INFO - ServiceFinder - [EtcdSupport.py:475]: etcd watch timeout, rest watch index 332 -> 335
2021-06-29 00:15:48,333 - INFO - ServiceRegister - [EtcdSupport.py:196]: outside, time.time()=1624896948.326906, refresh service dispatcher_service, now_url: http://127.0.0.1:2379/v2/keys/services/dispatcher_service/127.0.0.1|9101
2021-06-29 00:15:48,373 - INFO - ServiceRegister - [EtcdSupport.py:214]: time.time()=1624896948.367452, refresh service success: dispatcher_service: {"action":"set","node":{"key":"/services/dispatcher_service/127.0.0.1|9101","value":"","expiration":"2021-06-28T16:18:48.3632163Z","ttl":180,"modifiedIndex":343,"createdIndex":343},"prevNode":{"key":"/services/dispatcher_service/127.0.0.1|9101","value":"","expiration":"2021-06-28T16:17:00.3117413Z","ttl":72,"modifiedIndex":333,"createdIndex":333}}
, now_url: http://127.0.0.1:2379/v2/keys/services/dispatcher_service/127.0.0.1|9101
2021-06-29 00:16:17,566 - INFO - ServiceFinder - [EtcdSupport.py:475]: etcd watch timeout, rest watch index 335 -> 341
2021-06-29 00:17:27,598 - INFO - ServiceFinder - [EtcdSupport.py:475]: etcd watch timeout, rest watch index 341 -> 349
2021-06-29 00:17:36,400 - INFO - ServiceRegister - [EtcdSupport.py:196]: outside, time.time()=1624897056.39451, refresh service dispatcher_service, now_url: http://127.0.0.1:2379/v2/keys/services/dispatcher_service/127.0.0.1|9101
2021-06-29 00:17:36,458 - INFO - ServiceRegister - [EtcdSupport.py:214]: time.time()=1624897056.4501243, refresh service success: dispatcher_service: {"action":"set","node":{"key":"/services/dispatcher_service/127.0.0.1|9101","value":"","expiration":"2021-06-28T16:20:36.4301613Z","ttl":180,"modifiedIndex":352,"createdIndex":352},"prevNode":{"key":"/services/dispatcher_service/127.0.0.1|9101","value":"","expiration":"2021-06-28T16:18:48.3632163Z","ttl":72,"modifiedIndex":343,"createdIndex":343}}
, now_url: http://127.0.0.1:2379/v2/keys/services/dispatcher_service/127.0.0.1|9101
2021-06-29 00:18:51,259 - INFO - ServerEntity.LoadCollector - [ServerEntity.py:25]: __init__ create entity LoadCollector with id 60d9f66be7c97b76f70e0d5a mem_id=2223429624928
2021-06-29 00:18:51,263 - INFO - server.EntityManager - [EntityManager.py:139]: addentity  entity id  60d9f66be7c97b76f70e0d5a 
2021-06-29 00:18:51,292 - INFO - ServiceNode - [EtcdSupport.py:533]: we have create ServiceFinder
2021-06-29 00:18:51,302 - INFO - ServiceFinder - [EtcdSupport.py:352]: _init_info, now_url: http://127.0.0.1:2379/v2/keys?recursive=true
2021-06-29 00:18:51,307 - INFO - ServiceRegister - [EtcdSupport.py:155]: _do_regist: now_url: http://127.0.0.1:2379/v2/keys/services/dispatcher_service/127.0.0.1|9101
2021-06-29 00:18:51,319 - INFO - TcpServer - [TcpServer.py:200]: Server on ('127.0.0.1', 9101)
2021-06-29 00:18:51,345 - INFO - ServiceFinder - [EtcdSupport.py:323]: add service node info--> lobby_server: ('127.0.0.1', 10001)
2021-06-29 00:18:51,349 - INFO - ServiceFinder - [EtcdSupport.py:323]: add service node info--> lobby_server: ('127.0.0.1', 10002)
2021-06-29 00:18:51,353 - INFO - ServiceFinder - [EtcdSupport.py:323]: add service node info--> lobby_server: ('127.0.0.1', 10003)
2021-06-29 00:18:51,356 - INFO - ServiceFinder - [EtcdSupport.py:323]: add service node info--> dispatcher_service: ('127.0.0.1', 9101)
2021-06-29 00:18:51,360 - INFO - ServiceFinder - [EtcdSupport.py:323]: add service node info--> dispatcher_service: ('127.0.0.1', 9102)
2021-06-29 00:18:51,365 - INFO - ServiceFinder - [EtcdSupport.py:323]: add service node info--> dispatcher_service: ('127.0.0.1', 9100)
2021-06-29 00:18:51,368 - INFO - ServiceFinder - [EtcdSupport.py:323]: add service node info--> lobby_gate: ('127.0.0.1', 9203)
2021-06-29 00:18:51,371 - INFO - ServiceFinder - [EtcdSupport.py:323]: add service node info--> lobby_gate: ('127.0.0.1', 9201)
2021-06-29 00:18:51,374 - INFO - ServiceFinder - [EtcdSupport.py:323]: add service node info--> lobby_gate: ('127.0.0.1', 9202)
2021-06-29 00:18:51,377 - INFO - ServiceFinder - [EtcdSupport.py:277]: init service info from etcd success, will going to watch, at etcd index -> 360
2021-06-29 00:18:51,389 - INFO - ServiceRegister - [EtcdSupport.py:163]: regist service : dispatcher_service success, {"action":"set","node":{"key":"/services/dispatcher_service/127.0.0.1|9101","value":"","expiration":"2021-06-28T16:21:51.3383983Z","ttl":180,"modifiedIndex":361,"createdIndex":361},"prevNode":{"key":"/services/dispatcher_service/127.0.0.1|9101","value":"","expiration":"2021-06-28T16:20:36.4301613Z","ttl":106,"modifiedIndex":352,"createdIndex":352}}

2021-06-29 00:18:51,403 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> dispatcher_service: ('127.0.0.1', 9101) - [361]
2021-06-29 00:18:51,405 - INFO - ServiceFinder - [EtcdSupport.py:299]: duplicate service info  -> dispatcher_service:('127.0.0.1', 9101)
2021-06-29 00:18:53,832 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> dispatcher_service: ('127.0.0.1', 9102) - [362]
2021-06-29 00:18:53,836 - INFO - ServiceFinder - [EtcdSupport.py:299]: duplicate service info  -> dispatcher_service:('127.0.0.1', 9102)
2021-06-29 00:18:57,414 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> lobby_server: ('127.0.0.1', 10001) - [363]
2021-06-29 00:18:57,419 - INFO - ServiceFinder - [EtcdSupport.py:299]: duplicate service info  -> lobby_server:('127.0.0.1', 10001)
2021-06-29 00:19:05,749 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> lobby_gate: ('127.0.0.1', 9201) - [364]
2021-06-29 00:19:05,753 - INFO - ServiceFinder - [EtcdSupport.py:299]: duplicate service info  -> lobby_gate:('127.0.0.1', 9201)
2021-06-29 00:19:31,490 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> lobby_server: ('127.0.0.1', 10002) - [365]
2021-06-29 00:19:31,496 - INFO - ServiceFinder - [EtcdSupport.py:299]: duplicate service info  -> lobby_server:('127.0.0.1', 10002)
2021-06-29 00:19:34,331 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> lobby_server: ('127.0.0.1', 10003) - [366]
2021-06-29 00:19:34,335 - INFO - ServiceFinder - [EtcdSupport.py:299]: duplicate service info  -> lobby_server:('127.0.0.1', 10003)
2021-06-29 00:19:37,420 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> lobby_gate: ('127.0.0.1', 9202) - [367]
2021-06-29 00:19:37,423 - INFO - ServiceFinder - [EtcdSupport.py:299]: duplicate service info  -> lobby_gate:('127.0.0.1', 9202)
2021-06-29 00:19:42,063 - INFO - ServiceFinder - [EtcdSupport.py:422]: recv watch set service node info--> lobby_gate: ('127.0.0.1', 9203) - [368]
2021-06-29 00:19:42,071 - INFO - ServiceFinder - [EtcdSupport.py:299]: duplicate service info  -> lobby_gate:('127.0.0.1', 9203)
2021-06-29 00:19:43,397 - INFO - TcpServer - [TcpServer.py:186]: ('127.0.0.1', 7152) is connected !!!!
2021-06-29 00:19:45,738 - INFO - TcpServer - [TcpServer.py:186]: ('127.0.0.1', 7156) is connected !!!!
2021-06-29 00:19:45,751 - DEBUG - ServerEntity.LoadCollector - [LoadCollector.py:63]: pick_lowest_load_service_addr server_name: gate_0, addr: ('gate_0', '127.0.0.1', 9201)
2021-06-29 00:20:01,290 - INFO - TcpServer - [TcpServer.py:186]: ('127.0.0.1', 7178) is connected !!!!
2021-06-29 00:20:01,312 - DEBUG - ServerEntity.LoadCollector - [LoadCollector.py:63]: pick_lowest_load_service_addr server_name: gate_2, addr: ('gate_2', '127.0.0.1', 9203)
2021-06-29 00:20:01,399 - INFO - TcpServer - [TcpServer.py:186]: ('127.0.0.1', 7180) is connected !!!!
2021-06-29 00:20:01,432 - DEBUG - ServerEntity.LoadCollector - [LoadCollector.py:63]: pick_lowest_load_service_addr server_name: lobby_1, addr: ('lobby_1', '127.0.0.1', 10002)
2021-06-29 00:20:39,395 - INFO - ServiceRegister - [EtcdSupport.py:196]: outside, time.time()=1624897239.3902361, refresh service dispatcher_service, now_url: http://127.0.0.1:2379/v2/keys/services/dispatcher_service/127.0.0.1|9101
2021-06-29 00:20:39,447 - INFO - ServiceRegister - [EtcdSupport.py:214]: time.time()=1624897239.441725, refresh service success: dispatcher_service: {"action":"set","node":{"key":"/services/dispatcher_service/127.0.0.1|9101","value":"","expiration":"2021-06-28T16:23:39.4201406Z","ttl":180,"modifiedIndex":371,"createdIndex":371},"prevNode":{"key":"/services/dispatcher_service/127.0.0.1|9101","value":"","expiration":"2021-06-28T16:21:51.3383983Z","ttl":72,"modifiedIndex":361,"createdIndex":361}}
, now_url: http://127.0.0.1:2379/v2/keys/services/dispatcher_service/127.0.0.1|9101
2021-06-29 00:20:43,101 - INFO - ServiceFinder - [EtcdSupport.py:475]: etcd watch timeout, rest watch index 368 -> 368
